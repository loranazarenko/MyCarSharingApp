2025-08-04 21:49:40.398 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-04 21:49:40.420 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-04 21:49:40.469 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-04 21:49:40.507 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-04 21:49:40.507 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-04 21:49:40.515 +03:00 [INF] Applying migration '20250804184701_InitIdentity'.
2025-08-04 21:49:40.593 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Users";
2025-08-04 21:49:40.612 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-08-04 21:49:40.617 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2025-08-04 21:49:40.632 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-08-04 21:49:40.636 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-08-04 21:49:40.639 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-08-04 21:49:40.642 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-08-04 21:49:40.646 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-08-04 21:49:40.648 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-08-04 21:49:40.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-08-04 21:49:40.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-08-04 21:49:40.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-08-04 21:49:41.569 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-08-04 21:49:41.572 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-08-04 21:49:41.574 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-08-04 21:49:41.576 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250804184701_InitIdentity', '8.0.5');
2025-08-10 03:50:20.340 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-10 03:50:20.392 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-10 03:50:20.476 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-08-10 03:50:20.499 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-10 03:50:20.502 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-10 03:50:20.506 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-08-10 03:50:20.709 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-10 03:50:20.989 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-10 03:50:20.993 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-10 03:50:21.073 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-10 03:50:21.075 +03:00 [INF] Hosting environment: Development
2025-08-10 03:50:21.075 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-10 03:50:23.198 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-10 03:50:23.596 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-10 03:50:23.640 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-10 03:50:23.646 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-10 03:50:23.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 482.7182ms
2025-08-10 03:50:23.709 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-10 03:50:23.860 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 151.7792ms
2025-08-10 03:50:23.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 03:50:23.932 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-10 03:50:23.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 25.981ms
2025-08-10 03:50:23.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-10 03:50:23.978 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 48.7139ms
2025-08-10 03:50:24.143 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.7554ms
2025-08-10 03:50:24.267 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-10 03:50:24.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.6139ms
2025-08-10 03:50:31.472 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 03:50:31.480 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 8.1453ms
2025-08-10 03:50:34.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 03:50:34.934 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 9.6336ms
2025-08-12 03:27:09.930 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 03:27:10.061 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 03:27:10.318 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 03:27:10.759 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 03:27:10.762 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 03:27:10.920 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 03:27:10.923 +03:00 [INF] Hosting environment: Development
2025-08-12 03:27:10.927 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 03:27:11.783 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 03:27:12.043 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 03:27:12.066 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 03:27:12.070 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 03:27:12.085 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 314.0513ms
2025-08-12 03:27:12.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 03:27:12.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 100.7092ms
2025-08-12 03:27:12.256 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 03:27:12.257 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 03:27:12.280 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 23.1307ms
2025-08-12 03:27:12.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 29.4706ms
2025-08-12 03:27:12.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 03:27:12.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 182.3909ms
2025-08-12 03:27:12.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 03:27:12.631 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.6039ms
2025-08-12 03:28:23.975 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/register - application/json 81
2025-08-12 03:28:24.026 +03:00 [INF] Executing endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:28:24.103 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyCarSharingApp.Application.DTOs.RegisterRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:28:24.428 +03:00 [INF] Executed action AuthController.Register (MyCarSharingApp.Api) in 304.4802ms
2025-08-12 03:28:24.442 +03:00 [INF] Executed endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:28:24.513 +03:00 [ERR] Unhandled exception
System.Exception: Passwords must have at least one non alphanumeric character.;Passwords must have at least one lowercase ('a'-'z').;Passwords must have at least one uppercase ('A'-'Z').
   at MyCarSharingApp.Application.Services.IdentityUserService.RegisterAsync(String username, String email, String password) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\IdentityUserService.cs:line 28
   at AuthController.Register(RegisterRequest model) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\AuthController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 03:28:24.635 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/register - 500 null application/problem+json 660.565ms
2025-08-12 03:28:54.563 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/register - application/json 83
2025-08-12 03:28:54.595 +03:00 [INF] Executing endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:28:54.601 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyCarSharingApp.Application.DTOs.RegisterRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:28:54.753 +03:00 [INF] Executed action AuthController.Register (MyCarSharingApp.Api) in 137.9328ms
2025-08-12 03:28:54.764 +03:00 [INF] Executed endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:28:54.805 +03:00 [ERR] Unhandled exception
System.Exception: Passwords must have at least one non alphanumeric character.
   at MyCarSharingApp.Application.Services.IdentityUserService.RegisterAsync(String username, String email, String password) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\IdentityUserService.cs:line 28
   at AuthController.Register(RegisterRequest model) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\AuthController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 03:28:54.845 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/register - 500 null application/problem+json 283.482ms
2025-08-12 03:29:14.378 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/register - application/json 84
2025-08-12 03:29:14.397 +03:00 [INF] Executing endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:29:14.425 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyCarSharingApp.Application.DTOs.RegisterRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:29:14.688 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:29:14.931 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-08-12 03:29:14.971 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 03:29:15.019 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-08-12 03:29:15.037 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 03:29:15.119 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:29:15.217 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?', @p1='?', @p16='?', @p2='?' (DbType = Int32), @p3='?', @p17='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-08-12 03:29:15.382 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 03:29:15.727 +03:00 [INF] Executed action AuthController.Register (MyCarSharingApp.Api) in 1288.1913ms
2025-08-12 03:29:15.733 +03:00 [INF] Executed endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:29:15.912 +03:00 [ERR] Unhandled exception
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS512', the key size must be greater than: '512' bits, key has '152' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at MyCarSharingApp.Api.Helpers.JwtTokenGenerator.GenerateTokenAsync(IdentityUser user) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Helpers\JwtTokenGenerator.cs:line 70
   at AuthController.Register(RegisterRequest model) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 03:29:15.989 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/register - 400 null application/problem+json 1611.4711ms
2025-08-12 03:32:17.686 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 03:32:17.820 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 03:32:18.018 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 03:32:18.334 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 03:32:18.336 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 03:32:18.662 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 03:32:18.665 +03:00 [INF] Hosting environment: Development
2025-08-12 03:32:18.667 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 03:32:18.702 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 03:32:18.887 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 03:32:18.907 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 03:32:18.912 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 03:32:18.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 232.2094ms
2025-08-12 03:32:18.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 03:32:19.052 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 108.1977ms
2025-08-12 03:32:19.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 03:32:19.082 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 03:32:19.098 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 15.6509ms
2025-08-12 03:32:19.104 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 22.3087ms
2025-08-12 03:32:19.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 03:32:19.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.4016ms
2025-08-12 03:32:19.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 03:32:19.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.4227ms
2025-08-12 03:34:11.315 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/register - application/json 84
2025-08-12 03:34:11.357 +03:00 [INF] Executing endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:34:11.417 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyCarSharingApp.Application.DTOs.RegisterRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:34:11.725 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:34:12.132 +03:00 [INF] Executed action AuthController.Register (MyCarSharingApp.Api) in 694.7133ms
2025-08-12 03:34:12.153 +03:00 [INF] Executed endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:34:12.351 +03:00 [ERR] Unhandled exception
System.Exception: Username 'alice' is already taken.
   at MyCarSharingApp.Application.Services.IdentityUserService.RegisterAsync(String username, String email, String password) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\IdentityUserService.cs:line 28
   at AuthController.Register(RegisterRequest model) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\AuthController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 03:34:12.497 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/register - 500 null application/problem+json 1181.4192ms
2025-08-12 03:35:35.867 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/register - application/json 75
2025-08-12 03:35:35.903 +03:00 [INF] Executing endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:35:35.912 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyCarSharingApp.Application.DTOs.RegisterRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:35:36.060 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:35:36.273 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-08-12 03:35:36.309 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 03:35:36.365 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-08-12 03:35:36.384 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 03:35:36.410 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:35:36.461 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p16='?', @p2='?' (DbType = Int32), @p3='?', @p17='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-08-12 03:35:36.776 +03:00 [INF] Executed action AuthController.Register (MyCarSharingApp.Api) in 849.0284ms
2025-08-12 03:35:36.794 +03:00 [INF] Executed endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:35:36.961 +03:00 [ERR] Unhandled exception
System.InvalidOperationException: JWT key is not configured (Jwt:Key).
   at MyCarSharingApp.Api.Helpers.JwtTokenGenerator.GenerateTokenAsync(IdentityUser user) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Helpers\JwtTokenGenerator.cs:line 31
   at AuthController.Register(RegisterRequest model) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 03:35:36.983 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/register - 500 null application/problem+json 1116.3726ms
2025-08-12 03:40:46.091 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 03:40:46.254 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 03:40:46.460 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 03:40:46.763 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 03:40:46.765 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 03:40:47.115 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 03:40:47.117 +03:00 [INF] Hosting environment: Development
2025-08-12 03:40:47.119 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 03:40:47.545 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 03:40:47.753 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 03:40:47.770 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 03:40:47.774 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 03:40:47.786 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 252.1567ms
2025-08-12 03:40:47.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 03:40:47.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 95.8253ms
2025-08-12 03:40:47.928 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 03:40:47.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 03:40:47.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 20.0911ms
2025-08-12 03:40:47.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 22.9591ms
2025-08-12 03:40:47.998 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 03:40:48.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.3146ms
2025-08-12 03:40:48.180 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 03:40:48.231 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.574ms
2025-08-12 03:41:19.312 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/register - application/json 75
2025-08-12 03:41:19.353 +03:00 [INF] Executing endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:41:19.429 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyCarSharingApp.Application.DTOs.RegisterRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:41:19.881 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:41:20.276 +03:00 [INF] Executed action AuthController.Register (MyCarSharingApp.Api) in 826.9682ms
2025-08-12 03:41:20.285 +03:00 [INF] Executed endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:41:20.478 +03:00 [ERR] Unhandled exception
System.Exception: Username 'bob' is already taken.
   at MyCarSharingApp.Application.Services.IdentityUserService.RegisterAsync(String username, String email, String password) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\IdentityUserService.cs:line 28
   at AuthController.Register(RegisterRequest model) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\AuthController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 03:41:20.619 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/register - 500 null application/problem+json 1306.7615ms
2025-08-12 03:41:56.055 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/register - application/json 75
2025-08-12 03:41:56.079 +03:00 [INF] Executing endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:41:56.084 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyCarSharingApp.Application.DTOs.RegisterRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:41:56.341 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:41:56.652 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-08-12 03:41:56.725 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 03:41:56.825 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-08-12 03:41:56.848 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 03:41:56.912 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:41:57.023 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p16='?', @p2='?' (DbType = Int32), @p3='?', @p17='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-08-12 03:41:57.399 +03:00 [INF] Executed action AuthController.Register (MyCarSharingApp.Api) in 1307.1719ms
2025-08-12 03:41:57.404 +03:00 [INF] Executed endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:41:57.562 +03:00 [ERR] Unhandled exception
System.InvalidOperationException: JWT key is not configured (Jwt:Key).
   at MyCarSharingApp.Api.Helpers.JwtTokenGenerator.GenerateTokenAsync(IdentityUser user) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Helpers\JwtTokenGenerator.cs:line 31
   at AuthController.Register(RegisterRequest model) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 03:41:57.580 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/register - 500 null application/problem+json 1525.2937ms
2025-08-12 03:48:31.906 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 03:48:32.043 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 03:48:32.223 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 03:48:32.447 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 03:48:32.450 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 03:48:32.580 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 03:48:32.590 +03:00 [INF] Hosting environment: Development
2025-08-12 03:48:32.592 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 03:48:33.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 03:48:33.175 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 03:48:33.191 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 03:48:33.193 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 03:48:33.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 169.04ms
2025-08-12 03:48:33.212 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 03:48:33.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 79.8655ms
2025-08-12 03:48:33.314 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 03:48:33.314 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 03:48:33.321 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 7.2401ms
2025-08-12 03:48:33.334 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 20.7186ms
2025-08-12 03:48:33.366 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 03:48:33.411 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.309ms
2025-08-12 03:48:33.504 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 03:48:33.536 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.1789ms
2025-08-12 03:49:15.443 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/register - application/json 75
2025-08-12 03:49:15.485 +03:00 [INF] Executing endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:49:15.556 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(MyCarSharingApp.Application.DTOs.RegisterRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:49:16.032 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:49:16.385 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-08-12 03:49:16.438 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 03:49:16.504 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-08-12 03:49:16.524 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 03:49:16.565 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 03:49:16.649 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p16='?', @p2='?' (DbType = Int32), @p3='?', @p17='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-08-12 03:49:16.884 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 03:49:17.044 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 03:49:17.082 +03:00 [INF] Executed action AuthController.Register (MyCarSharingApp.Api) in 1505.7215ms
2025-08-12 03:49:17.090 +03:00 [INF] Executed endpoint 'AuthController.Register (MyCarSharingApp.Api)'
2025-08-12 03:49:17.109 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/register - 200 null application/json; charset=utf-8 1670.2133ms
2025-08-12 03:50:24.146 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 54
2025-08-12 03:50:24.178 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 03:50:24.194 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 03:50:24.281 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 03:50:24.506 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 03:50:24.517 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 03:50:24.522 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 318.3229ms
2025-08-12 03:50:24.526 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 03:50:24.532 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 385.8133ms
2025-08-12 04:00:12.408 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - null null
2025-08-12 04:00:12.423 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 04:00:12.457 +03:00 [INF] Route matched with {action = "List", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] List(Int32, Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 04:00:12.501 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 04:00:12.506 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 04:00:12.626 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
LIMIT @__p_1 OFFSET @__p_0
2025-08-12 04:00:12.635 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[MyCarSharingApp.Domain.Entities.Car, MyCarSharingApp.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MyCarSharingApp.Application.DTOs.CarResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 04:00:12.663 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api) in 201.1141ms
2025-08-12 04:00:12.667 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 04:00:12.669 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - 200 null application/json; charset=utf-8 261.2936ms
2025-08-12 04:06:49.510 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 04:06:49.548 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 04:06:49.551 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 04:06:49.726 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 04:06:49.753 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 04:06:49.759 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 187.8178ms
2025-08-12 04:06:49.766 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 04:06:49.772 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 401 null application/json; charset=utf-8 262.2434ms
2025-08-12 04:09:37.819 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 61
2025-08-12 04:09:37.852 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 04:09:37.855 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 04:09:37.892 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 04:09:38.093 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 04:09:38.099 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 04:09:38.105 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 244.244ms
2025-08-12 04:09:38.110 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 04:09:38.112 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 292.5599ms
2025-08-12 04:10:08.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - null null
2025-08-12 04:10:08.909 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 04:10:08.911 +03:00 [INF] Route matched with {action = "List", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] List(Int32, Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 04:10:08.927 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
LIMIT @__p_1 OFFSET @__p_0
2025-08-12 04:10:08.945 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[MyCarSharingApp.Domain.Entities.Car, MyCarSharingApp.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MyCarSharingApp.Application.DTOs.CarResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 04:10:08.950 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api) in 35.782ms
2025-08-12 04:10:08.957 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 04:10:08.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - 200 null application/json; charset=utf-8 70.3522ms
2025-08-12 04:14:34.885 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 61
2025-08-12 04:14:34.935 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 04:14:34.949 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-12 04:14:34.951 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 302 0 null 66.8584ms
2025-08-12 04:14:34.955 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2FCar - null null
2025-08-12 04:14:34.968 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2FCar - 404 0 null 12.9448ms
2025-08-12 04:14:34.972 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/Account/Login, Response status code: 404
2025-08-12 04:19:45.975 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 61
2025-08-12 04:19:45.996 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 04:19:45.998 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-12 04:19:46.000 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 302 0 null 25.3302ms
2025-08-12 04:19:46.004 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2FCar - null null
2025-08-12 04:19:46.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2FCar - 404 0 null 12.8552ms
2025-08-12 04:19:46.022 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/Account/Login, Response status code: 404
2025-08-12 04:19:57.496 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 61
2025-08-12 04:19:57.504 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 04:19:57.507 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 04:19:57.571 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 04:19:57.684 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 04:19:57.689 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 04:19:57.690 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 180.54ms
2025-08-12 04:19:57.693 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 04:19:57.694 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 197.6051ms
2025-08-12 04:21:13.765 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 61
2025-08-12 04:21:13.775 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 04:21:13.777 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-12 04:21:13.778 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 302 0 null 13.8505ms
2025-08-12 04:21:13.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2FCar - null null
2025-08-12 04:21:13.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2FCar - 404 0 null 11.2917ms
2025-08-12 04:21:13.797 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/Account/Login, Response status code: 404
2025-08-12 04:25:24.741 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 61
2025-08-12 04:25:24.751 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 04:25:24.753 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 04:25:24.808 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 04:25:24.891 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 04:25:24.895 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 04:25:24.897 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 140.1195ms
2025-08-12 04:25:24.898 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 04:25:24.899 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 159.4474ms
2025-08-12 04:26:23.681 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 61
2025-08-12 04:26:23.698 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 04:26:23.699 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-12 04:26:23.700 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 302 0 null 19.2106ms
2025-08-12 04:26:23.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2FCar - null null
2025-08-12 04:26:23.711 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2Fapi%2FCar - 404 0 null 8.1261ms
2025-08-12 04:26:23.716 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/Account/Login, Response status code: 404
2025-08-12 05:02:37.921 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 05:02:38.720 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 05:02:38.781 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 05:02:38.796 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 05:02:38.860 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 05:02:38.981 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-08-12 05:02:38.996 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 05:02:39.013 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-08-12 05:02:39.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-08-12 05:02:39.030 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-12 05:02:39.049 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p16='?', @p2='?' (DbType = Int32), @p3='?', @p17='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-08-12 05:02:39.210 +03:00 [FTL] Application startup exception
System.InvalidOperationException: Scheme already exists: Bearer
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-08-12 05:02:39.234 +03:00 [ERR] Hosting failed to start
System.InvalidOperationException: Scheme already exists: Bearer
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-08-12 05:18:27.835 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 05:18:28.687 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 05:18:28.745 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 05:18:28.757 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 05:18:29.082 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 05:18:29.083 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 05:18:29.168 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 05:18:29.170 +03:00 [INF] Hosting environment: Development
2025-08-12 05:18:29.171 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 05:18:29.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 05:18:29.818 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 05:18:29.826 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 05:18:29.827 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 05:18:29.831 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 201.7103ms
2025-08-12 05:18:29.841 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 05:18:29.897 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 55.8471ms
2025-08-12 05:18:50.718 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 05:18:50.739 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 23.3159ms
2025-08-12 05:18:54.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 05:18:54.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 16.1887ms
2025-08-12 05:18:54.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 05:18:54.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 05:18:54.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 05:18:54.488 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 10.5981ms
2025-08-12 05:18:54.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 23.847ms
2025-08-12 05:18:54.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.6998ms
2025-08-12 05:18:54.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 05:18:54.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.7649ms
2025-08-12 05:20:33.227 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 05:20:33.249 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 05:20:33.283 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 05:20:33.390 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 05:20:33.535 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 05:20:33.575 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 05:20:33.583 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 295.0603ms
2025-08-12 05:20:33.584 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 05:20:33.589 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 362.0267ms
2025-08-12 05:21:21.768 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 61
2025-08-12 05:21:21.789 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 05:21:21.797 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 05:21:21.799 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 32.9247ms
2025-08-12 05:57:35.354 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 05:57:36.209 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 05:57:36.276 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 05:57:36.286 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 05:57:36.568 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 05:57:36.569 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 05:57:36.792 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 05:57:36.807 +03:00 [INF] Hosting environment: Development
2025-08-12 05:57:36.808 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 05:57:36.831 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 05:57:37.029 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 05:57:37.037 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 05:57:37.040 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 05:57:37.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 220.7635ms
2025-08-12 05:57:37.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 05:57:37.109 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 53.5962ms
2025-08-12 05:57:37.143 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 05:57:37.144 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 05:57:37.146 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 05:57:37.151 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 7.5453ms
2025-08-12 05:57:37.168 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 24.7091ms
2025-08-12 05:57:37.202 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.0998ms
2025-08-12 05:57:37.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 05:57:37.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.1638ms
2025-08-12 05:58:20.153 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 05:58:20.186 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 05:58:20.222 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 05:58:20.347 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 05:58:20.522 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 05:58:20.528 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 05:58:20.534 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 05:58:20.583 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 05:58:20.604 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 372.7938ms
2025-08-12 05:58:20.607 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 05:58:20.613 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 460.0138ms
2025-08-12 05:58:45.075 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - null null
2025-08-12 05:58:45.088 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 05:58:45.099 +03:00 [INF] Route matched with {action = "List", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] List(Int32, Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 05:58:45.148 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 05:58:45.153 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 05:58:45.168 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
LIMIT @__p_1 OFFSET @__p_0
2025-08-12 05:58:45.188 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[MyCarSharingApp.Domain.Entities.Car, MyCarSharingApp.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MyCarSharingApp.Application.DTOs.CarResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 05:58:45.198 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api) in 91.1072ms
2025-08-12 05:58:45.202 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 05:58:45.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - 200 null application/json; charset=utf-8 129.4876ms
2025-08-12 05:59:03.708 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 53
2025-08-12 05:59:03.721 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 05:59:03.728 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 05:59:03.729 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 22.1123ms
2025-08-12 06:10:49.748 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 53
2025-08-12 06:10:49.769 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-08-12 06:10:49.792 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-08-12 06:10:49.799 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:10:49.803 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:10:49.804 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 57.1234ms
2025-08-12 06:12:13.636 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 53
2025-08-12 06:12:13.649 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:12:13.651 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:12:13.652 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 16.3062ms
2025-08-12 06:22:19.112 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 06:22:19.917 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 06:22:19.982 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 06:22:19.992 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 06:22:20.273 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 06:22:20.275 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 06:22:20.344 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 06:22:20.345 +03:00 [INF] Hosting environment: Development
2025-08-12 06:22:20.345 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 06:22:20.626 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 06:22:20.859 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 06:22:20.867 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 06:22:20.870 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 06:22:20.875 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 254.3454ms
2025-08-12 06:22:20.883 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 06:22:20.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 48.2153ms
2025-08-12 06:22:20.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 06:22:20.953 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 06:22:20.960 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 6.6195ms
2025-08-12 06:22:20.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 06:22:20.968 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 15.2706ms
2025-08-12 06:22:21.022 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.7204ms
2025-08-12 06:22:21.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 06:22:21.075 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.3507ms
2025-08-12 06:23:08.867 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 06:23:08.891 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 06:23:08.924 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 06:23:09.070 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 06:23:09.272 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 06:23:09.287 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 06:23:09.292 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 06:23:09.295 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 06:23:09.339 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 06:23:09.348 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 414.8138ms
2025-08-12 06:23:09.351 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 06:23:09.378 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 511.1469ms
2025-08-12 06:23:50.804 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental?userId=1&isActive=true - null null
2025-08-12 06:23:50.830 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:23:50.837 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:23:50.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental?userId=1&isActive=true - 401 0 null 34.5474ms
2025-08-12 06:24:40.667 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 06:24:40.684 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:24:40.685 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:24:40.687 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 19.2644ms
2025-08-12 06:24:59.731 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 06:24:59.739 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:24:59.742 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:24:59.744 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 14.124ms
2025-08-12 06:45:17.997 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 06:45:19.512 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 06:45:19.634 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 06:45:19.665 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 06:45:20.192 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 06:45:20.196 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 06:45:20.377 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 06:45:20.380 +03:00 [INF] Hosting environment: Development
2025-08-12 06:45:20.382 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 06:45:20.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 06:45:20.807 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 06:45:20.826 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 06:45:20.830 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 06:45:20.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 332.2848ms
2025-08-12 06:45:20.858 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 06:45:20.967 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 109.7031ms
2025-08-12 06:45:21.035 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 06:45:21.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 06:45:21.070 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 33.8098ms
2025-08-12 06:45:21.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 36.1702ms
2025-08-12 06:45:21.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 06:45:21.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 122.8175ms
2025-08-12 06:45:21.338 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 06:45:21.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.2596ms
2025-08-12 06:45:59.955 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 06:45:59.999 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 06:46:00.089 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 06:46:00.329 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 06:46:00.658 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 06:46:00.669 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 06:46:00.680 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 06:46:00.687 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 06:46:00.773 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 06:46:00.795 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 695.4158ms
2025-08-12 06:46:00.801 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 06:46:00.818 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 863.5484ms
2025-08-12 06:47:04.511 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 06:47:04.547 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:47:04.560 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:47:04.563 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 62.281ms
2025-08-12 06:47:08.953 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 06:47:08.969 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:47:08.975 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:47:08.980 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 27.0554ms
2025-08-12 06:47:09.756 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 06:47:09.776 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:47:09.778 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:47:09.782 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 28.0295ms
2025-08-12 06:47:10.308 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 06:47:10.317 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 06:47:10.319 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 06:47:10.321 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 13.6975ms
2025-08-12 07:21:24.012 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 07:21:25.503 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 07:21:25.610 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 07:21:25.633 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 07:21:26.122 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 07:21:26.125 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 07:21:26.262 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 07:21:26.277 +03:00 [INF] Hosting environment: Development
2025-08-12 07:21:26.279 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 07:21:26.562 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 07:21:26.878 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 07:21:26.897 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 07:21:26.917 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 07:21:26.929 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 379.0136ms
2025-08-12 07:21:26.946 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 07:21:27.056 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 110.3042ms
2025-08-12 07:21:27.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 07:21:27.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 07:21:27.130 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 20.7346ms
2025-08-12 07:21:27.168 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 07:21:27.169 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 60.7482ms
2025-08-12 07:21:27.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 62.7152ms
2025-08-12 07:21:27.343 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 07:21:27.398 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.3825ms
2025-08-12 07:22:00.066 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 07:22:00.100 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 07:22:00.180 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 07:22:00.444 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 07:22:00.839 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 07:22:00.867 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 07:22:00.884 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 07:22:00.900 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 07:22:01.002 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 07:22:01.032 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 837.1453ms
2025-08-12 07:22:01.043 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 07:22:01.063 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 997.4628ms
2025-08-12 07:22:34.104 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 07:22:34.146 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 07:22:34.160 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 07:22:34.164 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 60.2153ms
2025-08-12 07:22:39.630 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 07:22:39.649 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 07:22:39.655 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 07:22:39.664 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 33.8789ms
2025-08-12 07:22:40.448 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 07:22:40.470 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 07:22:40.475 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 07:22:40.478 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 30.4867ms
2025-08-12 08:04:28.380 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 08:04:29.880 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 08:04:30.005 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 08:04:30.047 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 08:04:30.552 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 08:04:30.556 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 08:04:30.696 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 08:04:30.705 +03:00 [INF] Hosting environment: Development
2025-08-12 08:04:30.711 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 08:04:31.381 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 08:04:31.686 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 08:04:31.703 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 08:04:31.707 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 08:04:31.719 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 348.8873ms
2025-08-12 08:04:31.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 08:04:31.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 97.0425ms
2025-08-12 08:04:31.863 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 08:04:31.869 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 6.9281ms
2025-08-12 08:04:31.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 08:04:31.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 26.2159ms
2025-08-12 08:04:32.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 08:04:32.162 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.531ms
2025-08-12 08:04:32.260 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 08:04:32.316 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.8492ms
2025-08-12 08:05:04.537 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 08:05:04.570 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 08:05:04.642 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 08:05:04.883 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 08:05:05.238 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 08:05:05.257 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 08:05:05.275 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 08:05:05.282 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 08:05:05.385 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 08:05:05.412 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 752.0123ms
2025-08-12 08:05:05.416 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 08:05:05.447 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 910.2371ms
2025-08-12 08:06:50.517 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 08:06:50.570 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 08:06:50.582 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 08:06:50.585 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 69.7473ms
2025-08-12 08:22:22.910 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 08:22:23.882 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 08:22:23.939 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 08:22:23.950 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 08:22:24.228 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 08:22:24.255 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 08:22:24.328 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 08:22:24.336 +03:00 [INF] Hosting environment: Development
2025-08-12 08:22:24.339 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 08:22:24.765 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 08:22:24.912 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 08:22:24.922 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 08:22:24.924 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 08:22:24.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 168.7141ms
2025-08-12 08:22:24.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 08:22:24.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 60.0691ms
2025-08-12 08:22:25.050 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 08:22:25.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 08:22:25.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 08:22:25.110 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 55.6687ms
2025-08-12 08:22:25.122 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 71.6502ms
2025-08-12 08:22:25.199 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 144.2528ms
2025-08-12 08:22:25.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 08:22:25.341 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.9848ms
2025-08-12 08:29:38.606 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 08:29:38.623 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 08:29:38.668 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 08:29:38.923 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 08:29:39.139 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 08:29:39.151 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 08:29:39.162 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 08:29:39.166 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 08:29:39.236 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 08:29:39.245 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 567.2264ms
2025-08-12 08:29:39.248 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 08:29:39.254 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 647.6303ms
2025-08-12 08:30:18.956 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 51
2025-08-12 08:30:18.995 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 08:30:19.004 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 08:30:19.007 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 50.8729ms
2025-08-12 08:50:16.207 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 08:50:17.003 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 08:50:17.054 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 08:50:17.070 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 08:50:17.313 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 08:50:17.314 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 08:50:17.465 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 08:50:17.487 +03:00 [INF] Hosting environment: Development
2025-08-12 08:50:17.489 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 08:50:17.822 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 08:50:17.961 +03:00 [INF] ----- Authenticated? false
2025-08-12 08:50:17.964 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 08:50:17.967 +03:00 [INF] Identity #0 Claims: 
2025-08-12 08:50:17.970 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 08:50:17.978 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 08:50:17.980 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 08:50:17.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 170.1436ms
2025-08-12 08:50:17.995 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 08:50:18.048 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 52.9296ms
2025-08-12 08:50:18.113 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 08:50:18.109 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 08:50:18.115 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 08:50:18.162 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 49.9582ms
2025-08-12 08:50:18.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 96.4801ms
2025-08-12 08:50:18.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 115.3545ms
2025-08-12 08:50:18.299 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 08:50:18.333 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.0211ms
2025-08-12 08:51:00.011 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 08:51:00.029 +03:00 [INF] ----- Authenticated? false
2025-08-12 08:51:00.031 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 08:51:00.035 +03:00 [INF] Identity #0 Claims: 
2025-08-12 08:51:00.037 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 08:51:00.061 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 08:51:00.140 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 08:51:00.269 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 08:51:00.273 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 08:51:00.276 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 08:51:00.279 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 08:51:00.312 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 08:51:00.321 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 251.9723ms
2025-08-12 08:51:00.323 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 08:51:00.328 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 317.2559ms
2025-08-12 08:51:36.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/debug/claims - null null
2025-08-12 08:51:36.485 +03:00 [INF] ----- Authenticated? false
2025-08-12 08:51:36.487 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 08:51:36.489 +03:00 [INF] Identity #0 Claims: 
2025-08-12 08:51:36.491 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.DebugController.TokenInfo (MyCarSharingApp.Api)'
2025-08-12 08:51:36.494 +03:00 [INF] Route matched with {action = "TokenInfo", controller = "Debug"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TokenInfo() on controller MyCarSharingApp.Api.Controllers.DebugController (MyCarSharingApp.Api).
2025-08-12 08:51:36.500 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType3`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], MyCarSharingApp.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 08:51:36.506 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.DebugController.TokenInfo (MyCarSharingApp.Api) in 8.4008ms
2025-08-12 08:51:36.508 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.DebugController.TokenInfo (MyCarSharingApp.Api)'
2025-08-12 08:51:36.509 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/debug/claims - 200 null application/json; charset=utf-8 42.0003ms
2025-08-12 08:56:28.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/debug/claims - null null
2025-08-12 08:56:28.292 +03:00 [INF] ----- Authenticated? true
2025-08-12 08:56:28.295 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 08:56:28.298 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754992260, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 08:56:28.300 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.DebugController.TokenInfo (MyCarSharingApp.Api)'
2025-08-12 08:56:28.302 +03:00 [INF] Route matched with {action = "TokenInfo", controller = "Debug"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult TokenInfo() on controller MyCarSharingApp.Api.Controllers.DebugController (MyCarSharingApp.Api).
2025-08-12 08:56:28.317 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType4`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType3`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], MyCarSharingApp.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 08:56:28.319 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.DebugController.TokenInfo (MyCarSharingApp.Api) in 13.8221ms
2025-08-12 08:56:28.324 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.DebugController.TokenInfo (MyCarSharingApp.Api)'
2025-08-12 08:56:28.325 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/debug/claims - 200 null application/json; charset=utf-8 80.5557ms
2025-08-12 08:57:38.401 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 61
2025-08-12 08:57:38.422 +03:00 [INF] ----- Authenticated? true
2025-08-12 08:57:38.425 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 08:57:38.427 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754992260, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 08:57:38.432 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 08:57:38.437 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 08:57:38.656 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 08:57:38.677 +03:00 [INF] Added car Id=1
2025-08-12 08:57:38.679 +03:00 [INF] Created new car
2025-08-12 08:57:38.682 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 08:57:38.701 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 261.7203ms
2025-08-12 08:57:38.704 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 08:57:38.705 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 304.8779ms
2025-08-12 08:58:29.413 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 63
2025-08-12 08:58:29.424 +03:00 [INF] ----- Authenticated? true
2025-08-12 08:58:29.426 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 08:58:29.428 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754992260, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 08:58:29.431 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 08:58:29.432 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 08:58:29.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 08:58:29.445 +03:00 [INF] Added car Id=2
2025-08-12 08:58:29.446 +03:00 [INF] Created new car
2025-08-12 08:58:29.447 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 08:58:29.449 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 12.5889ms
2025-08-12 08:58:29.450 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 08:58:29.452 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 39.3525ms
2025-08-12 08:58:58.670 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 67
2025-08-12 08:58:58.682 +03:00 [INF] ----- Authenticated? true
2025-08-12 08:58:58.683 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 08:58:58.686 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754992260, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 08:58:58.689 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 08:58:58.690 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 08:58:58.701 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 08:58:58.711 +03:00 [INF] Added car Id=3
2025-08-12 08:58:58.712 +03:00 [INF] Created new car
2025-08-12 08:58:58.713 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 08:58:58.716 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 23.6192ms
2025-08-12 08:58:58.717 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 08:58:58.719 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 49.6321ms
2025-08-12 09:00:12.472 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - null null
2025-08-12 09:00:12.483 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:00:12.484 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:00:12.487 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754992260, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:00:12.489 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 09:00:12.516 +03:00 [INF] Route matched with {action = "List", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] List(Int32, Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:00:12.536 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 09:00:12.538 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 09:00:12.544 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
LIMIT @__p_1 OFFSET @__p_0
2025-08-12 09:00:12.557 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[MyCarSharingApp.Domain.Entities.Car, MyCarSharingApp.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MyCarSharingApp.Application.DTOs.CarResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:00:12.569 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api) in 49.3057ms
2025-08-12 09:00:12.571 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 09:00:12.573 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - 200 null application/json; charset=utf-8 100.9825ms
2025-08-12 09:00:31.778 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Car/2 - null null
2025-08-12 09:00:31.788 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:00:31.789 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:00:31.792 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754992260, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:00:31.793 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.GetById (MyCarSharingApp.Api)'
2025-08-12 09:00:31.798 +03:00 [INF] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] GetById(Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:00:31.919 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.GetById (MyCarSharingApp.Api) in 118.3776ms
2025-08-12 09:00:31.921 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.GetById (MyCarSharingApp.Api)'
2025-08-12 09:00:31.948 +03:00 [ERR] Unhandled exception
System.ArgumentException: The key value at position 0 of the call to 'DbSet<Car>.Find' was of type 'long', which does not match the property type of 'int'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues)
   at MyCarSharingApp.Infrastructure.Repositories.CarRepository.FindByIdAsync(Int64 id) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Infrastructure\Repositories\CarRepository.cs:line 25
   at MyCarSharingApp.Application.Services.CarService.GetCarByIdAsync(Int32 id) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\CarService.cs:line 65
   at MyCarSharingApp.Api.Controllers.CarController.GetById(Int32 id) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\CarController.cs:line 39
   at lambda_method255(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:00:32.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Car/2 - 400 null application/problem+json 239.631ms
2025-08-12 09:07:46.091 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 09:07:47.017 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 09:07:47.089 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 09:07:47.104 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 09:07:47.493 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 09:07:47.494 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 09:07:47.591 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 09:07:47.598 +03:00 [INF] Hosting environment: Development
2025-08-12 09:07:47.600 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 09:07:48.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 09:07:48.459 +03:00 [INF] ----- Authenticated? false
2025-08-12 09:07:48.465 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 09:07:48.469 +03:00 [INF] Identity #0 Claims: 
2025-08-12 09:07:48.476 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 09:07:48.491 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 09:07:48.493 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 09:07:48.497 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 268.2661ms
2025-08-12 09:07:48.509 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 09:07:48.571 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 62.5591ms
2025-08-12 09:07:48.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 09:07:48.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 09:07:48.637 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 09:07:48.665 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 28.4185ms
2025-08-12 09:07:48.695 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 58.7105ms
2025-08-12 09:07:48.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.0928ms
2025-08-12 09:07:48.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 09:07:48.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.6857ms
2025-08-12 09:08:15.319 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 09:08:15.344 +03:00 [INF] ----- Authenticated? false
2025-08-12 09:08:15.346 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 09:08:15.350 +03:00 [INF] Identity #0 Claims: 
2025-08-12 09:08:15.352 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 09:08:15.390 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 09:08:15.517 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 09:08:15.747 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 09:08:15.750 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 09:08:15.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 09:08:15.756 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 09:08:15.833 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 09:08:15.843 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 443.6723ms
2025-08-12 09:08:15.845 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 09:08:15.852 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 532.825ms
2025-08-12 09:08:57.863 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 53
2025-08-12 09:08:57.927 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:08:57.933 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:08:57.936 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:08:57.944 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:08:57.951 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:08:58.137 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 09:08:58.160 +03:00 [INF] Added car Id=4
2025-08-12 09:08:58.166 +03:00 [INF] Created new car
2025-08-12 09:08:58.171 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:08:58.188 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 235.1844ms
2025-08-12 09:08:58.191 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:08:58.192 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 330.6769ms
2025-08-12 09:09:05.287 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 53
2025-08-12 09:09:05.296 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:09:05.298 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:09:05.302 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:09:05.306 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:09:05.308 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:09:05.319 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 09:09:05.331 +03:00 [INF] Added car Id=5
2025-08-12 09:09:05.332 +03:00 [INF] Created new car
2025-08-12 09:09:05.334 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:09:05.337 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 26.8119ms
2025-08-12 09:09:05.339 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:09:05.340 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 53.7231ms
2025-08-12 09:09:10.982 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 53
2025-08-12 09:09:10.987 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:09:10.988 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:09:10.991 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:09:10.994 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:09:10.996 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:09:11.007 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 09:09:11.010 +03:00 [INF] Added car Id=6
2025-08-12 09:09:11.012 +03:00 [INF] Created new car
2025-08-12 09:09:11.014 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:09:11.015 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 17.1796ms
2025-08-12 09:09:11.017 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:09:11.018 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 35.4961ms
2025-08-12 09:09:16.602 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 53
2025-08-12 09:09:16.618 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:09:16.621 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:09:16.624 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:09:16.626 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:09:16.628 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:09:16.636 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 09:09:16.641 +03:00 [INF] Added car Id=7
2025-08-12 09:09:16.642 +03:00 [INF] Created new car
2025-08-12 09:09:16.643 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:09:16.646 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 14.3091ms
2025-08-12 09:09:16.647 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:09:16.649 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 46.7932ms
2025-08-12 09:09:23.366 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - null null
2025-08-12 09:09:23.371 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:09:23.373 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:09:23.376 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:09:23.378 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 09:09:23.385 +03:00 [INF] Route matched with {action = "List", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] List(Int32, Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:09:23.416 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 09:09:23.419 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 09:09:23.430 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
LIMIT @__p_1 OFFSET @__p_0
2025-08-12 09:09:23.436 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[MyCarSharingApp.Domain.Entities.Car, MyCarSharingApp.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MyCarSharingApp.Application.DTOs.CarResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:09:23.449 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api) in 59.7915ms
2025-08-12 09:09:23.451 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 09:09:23.453 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - 200 null application/json; charset=utf-8 86.7608ms
2025-08-12 09:09:34.249 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Car/2 - null null
2025-08-12 09:09:34.258 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:09:34.259 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:09:34.264 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:09:34.266 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.GetById (MyCarSharingApp.Api)'
2025-08-12 09:09:34.273 +03:00 [INF] Route matched with {action = "GetById", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] GetById(Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:09:34.304 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2025-08-12 09:09:34.313 +03:00 [INF] Executing OkObjectResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:09:34.315 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.GetById (MyCarSharingApp.Api) in 39.5063ms
2025-08-12 09:09:34.318 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.GetById (MyCarSharingApp.Api)'
2025-08-12 09:09:34.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Car/2 - 200 null application/json; charset=utf-8 70.6952ms
2025-08-12 09:10:08.771 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Car/2 - application/json 55
2025-08-12 09:10:08.789 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:10:08.791 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:10:08.795 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:10:08.797 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Update (MyCarSharingApp.Api)'
2025-08-12 09:10:08.804 +03:00 [INF] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Update(Int32, MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:10:08.922 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Update (MyCarSharingApp.Api) in 114.9759ms
2025-08-12 09:10:08.924 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Update (MyCarSharingApp.Api)'
2025-08-12 09:10:08.960 +03:00 [ERR] Unhandled exception
System.ArgumentException: There is no such type of car: 'audio'. Allowed: Sedan, Suv, Hatchback, Universal.
   at MyCarSharingApp.Application.Services.CarService.ValidateCarType(String type) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\CarService.cs:line 103
   at MyCarSharingApp.Application.Services.CarService.UpdateCarByIdAsync(Int32 id, CarRequestDto dto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\CarService.cs:line 74
   at MyCarSharingApp.Api.Controllers.CarController.Update(Int32 id, CarRequestDto dto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\CarController.cs:line 47
   at lambda_method263(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:10:09.028 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Car/2 - 400 null application/problem+json 257.3063ms
2025-08-12 09:10:24.976 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Car/2 - application/json 55
2025-08-12 09:10:24.984 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:10:24.985 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:10:24.989 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:10:24.991 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Update (MyCarSharingApp.Api)'
2025-08-12 09:10:24.993 +03:00 [INF] Route matched with {action = "Update", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Update(Int32, MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:10:25.002 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2025-08-12 09:10:25.033 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cars" SET "Brand" = @p0, "Inventory" = @p1, "IsAvailable" = @p2, "Model" = @p3, "Type" = @p4
WHERE "Id" = @p5;
2025-08-12 09:10:25.039 +03:00 [INF] Updated car Id=2
2025-08-12 09:10:25.041 +03:00 [INF] Executing OkObjectResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:10:25.043 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Update (MyCarSharingApp.Api) in 46.6411ms
2025-08-12 09:10:25.044 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Update (MyCarSharingApp.Api)'
2025-08-12 09:10:25.047 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Car/2 - 200 null application/json; charset=utf-8 71.1686ms
2025-08-12 09:10:41.944 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/Car/4 - null null
2025-08-12 09:10:41.962 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:10:41.964 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:10:41.967 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:10:41.969 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Delete (MyCarSharingApp.Api)'
2025-08-12 09:10:41.975 +03:00 [INF] Route matched with {action = "Delete", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:10:41.983 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2025-08-12 09:10:42.015 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Cars"
WHERE "Id" = @p0;
2025-08-12 09:10:42.021 +03:00 [INF] Deleted car Id=4
2025-08-12 09:10:42.027 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-08-12 09:10:42.028 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Delete (MyCarSharingApp.Api) in 49.9049ms
2025-08-12 09:10:42.030 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Delete (MyCarSharingApp.Api)'
2025-08-12 09:10:42.031 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/Car/4 - 204 null null 90.7469ms
2025-08-12 09:12:03.886 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Rental - application/json 121
2025-08-12 09:12:03.898 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:12:03.900 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:12:03.903 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:12:03.906 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:12:03.915 +03:00 [INF] Route matched with {action = "AddRental", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRental(MyCarSharingApp.Application.DTOs.RentalRequestDto) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:12:03.985 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-12 09:12:04.068 +03:00 [ERR] Error renting car: UserId=5, CarId=1
MyCarSharingApp.Application.Exceptions.EntityNotFoundException: User with id 5 not found
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 51
2025-08-12 09:12:04.109 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api) in 191.3642ms
2025-08-12 09:12:04.111 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:12:04.209 +03:00 [ERR] Unhandled exception
MyCarSharingApp.Application.Exceptions.EntityNotFoundException: User with id 5 not found
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 51
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 99
   at MyCarSharingApp.Api.Controllers.RentalController.AddRental(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\RentalController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:12:04.215 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Rental - 404 null application/problem+json 328.6234ms
2025-08-12 09:13:41.545 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Rental - application/json 156
2025-08-12 09:13:41.561 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:13:41.562 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:13:41.565 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:13:41.567 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:13:41.569 +03:00 [INF] Route matched with {action = "AddRental", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRental(MyCarSharingApp.Application.DTOs.RentalRequestDto) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:13:41.646 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-12 09:13:41.666 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NULL
2025-08-12 09:13:41.673 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2025-08-12 09:13:41.714 +03:00 [ERR] Error renting car: UserId=2a285964-6dc8-464d-a32d-2933f3b87170, CarId=1
System.ArgumentException: Car id 1 is not available for rent.
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 63
2025-08-12 09:13:41.763 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api) in 191.5464ms
2025-08-12 09:13:41.765 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:13:41.826 +03:00 [ERR] Unhandled exception
System.ArgumentException: Car id 1 is not available for rent.
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 63
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 99
   at MyCarSharingApp.Api.Controllers.RentalController.AddRental(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\RentalController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:13:41.833 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Rental - 400 null application/problem+json 288.4542ms
2025-08-12 09:13:56.855 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Rental - application/json 156
2025-08-12 09:13:56.861 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:13:56.862 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:13:56.864 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:13:56.865 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:13:56.867 +03:00 [INF] Route matched with {action = "AddRental", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRental(MyCarSharingApp.Application.DTOs.RentalRequestDto) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:13:56.893 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-12 09:13:56.897 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NULL
2025-08-12 09:13:56.899 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2025-08-12 09:13:56.922 +03:00 [ERR] Error renting car: UserId=2a285964-6dc8-464d-a32d-2933f3b87170, CarId=2
System.ArgumentException: Car id 2 is not available for rent.
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 63
2025-08-12 09:13:56.959 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api) in 89.6901ms
2025-08-12 09:13:56.960 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:13:57.059 +03:00 [ERR] Unhandled exception
System.ArgumentException: Car id 2 is not available for rent.
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 63
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 99
   at MyCarSharingApp.Api.Controllers.RentalController.AddRental(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\RentalController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:13:57.070 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Rental - 400 null application/problem+json 214.9059ms
2025-08-12 09:14:25.090 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Rental - application/json 156
2025-08-12 09:14:25.101 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:14:25.111 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:14:25.113 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:14:25.117 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:14:25.126 +03:00 [INF] Route matched with {action = "AddRental", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRental(MyCarSharingApp.Application.DTOs.RentalRequestDto) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:14:25.132 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-12 09:14:25.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NULL
2025-08-12 09:14:25.149 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2025-08-12 09:14:25.228 +03:00 [ERR] Error renting car: UserId=2a285964-6dc8-464d-a32d-2933f3b87170, CarId=2
System.ArgumentException: Car id 2 is not available for rent.
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 63
2025-08-12 09:14:25.262 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api) in 133.4689ms
2025-08-12 09:14:25.263 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:14:25.332 +03:00 [ERR] Unhandled exception
System.ArgumentException: Car id 2 is not available for rent.
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 63
   at MyCarSharingApp.Application.Services.RentalService.RentCarAsync(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 99
   at MyCarSharingApp.Api.Controllers.RentalController.AddRental(RentalRequestDto requestDto) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\RentalController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:14:25.337 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Rental - 400 null application/problem+json 247.3304ms
2025-08-12 09:22:08.353 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Rental - application/json 156
2025-08-12 09:22:08.364 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:22:08.366 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:22:08.369 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:22:08.372 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:22:08.374 +03:00 [INF] Route matched with {action = "AddRental", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRental(MyCarSharingApp.Application.DTOs.RentalRequestDto) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:22:08.434 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2025-08-12 09:22:08.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NULL
2025-08-12 09:22:08.442 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2025-08-12 09:22:08.481 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cars" SET "Brand" = @p0, "Inventory" = @p1, "IsAvailable" = @p2, "Model" = @p3, "Type" = @p4
WHERE "Id" = @p5;
2025-08-12 09:22:08.528 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Rentals" ("ActualReturnDate", "CarId", "RentalDate", "ReturnDate", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 09:22:08.542 +03:00 [INF] New rental created: RentalId=1, User=2a285964-6dc8-464d-a32d-2933f3b87170, Car=2
2025-08-12 09:22:08.544 +03:00 [INF] New rental created
2025-08-12 09:22:08.545 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.RentalResponseDto'.
2025-08-12 09:22:08.555 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api) in 178.2218ms
2025-08-12 09:22:08.556 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.AddRental (MyCarSharingApp.Api)'
2025-08-12 09:22:08.557 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Rental - 201 null application/json; charset=utf-8 205.8596ms
2025-08-12 09:23:13.676 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true - null null
2025-08-12 09:23:13.688 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:23:13.689 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:23:13.691 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:23:13.693 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api)'
2025-08-12 09:23:13.696 +03:00 [INF] Route matched with {action = "GetRentalsByUserId", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalsByUserId(System.String, System.Nullable`1[System.Boolean]) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:23:13.707 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
2025-08-12 09:23:13.722 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MyCarSharingApp.Application.DTOs.RentalResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:23:13.724 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api) in 24.3684ms
2025-08-12 09:23:13.726 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api)'
2025-08-12 09:23:13.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true - 200 null application/json; charset=utf-8 50.7539ms
2025-08-12 09:23:28.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&page=1&pageSize=50 - null null
2025-08-12 09:23:28.942 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:23:28.943 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:23:28.944 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:23:28.951 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:23:28.957 +03:00 [INF] Route matched with {action = "GetWithDetails", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWithDetails(System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:23:29.070 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api) in 109.021ms
2025-08-12 09:23:29.073 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:23:29.096 +03:00 [ERR] Unhandled exception
System.InvalidOperationException: The LINQ expression 'DbSet<Rental>()
    .Join(
        inner: DbSet<Car>(), 
        outerKeySelector: r => (object)r.CarId, 
        innerKeySelector: c => (object)c.Id, 
        resultSelector: (r, c) => new TransparentIdentifier<Rental, Car>(
            Outer = r, 
            Inner = c
        ))
    .LeftJoin(
        inner: DbSet<IdentityUser>(), 
        outerKeySelector: ti => ti.Outer.UserId.ToString(), 
        innerKeySelector: i => i.Id, 
        resultSelector: (ti, i) => new TransparentIdentifier<TransparentIdentifier<Rental, Car>, IdentityUser>(
            Outer = ti, 
            Inner = i
        ))' could not be translated. Additional information: Translation of method 'object.ToString' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MyCarSharingApp.Infrastructure.Repositories.RentalRepository.GetAllWithDetailsAsync(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Infrastructure\Repositories\RentalRepository.cs:line 104
   at MyCarSharingApp.Application.Services.RentalService.GetRentalsWithDetailsAsync(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 193
   at MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\RentalController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:23:29.158 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&page=1&pageSize=50 - 500 null application/problem+json 219.9508ms
2025-08-12 09:23:55.371 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true&page=1&pageSize=50 - null null
2025-08-12 09:23:55.387 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:23:55.388 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:23:55.390 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:23:55.392 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:23:55.393 +03:00 [INF] Route matched with {action = "GetWithDetails", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWithDetails(System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:23:55.483 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api) in 87.9271ms
2025-08-12 09:23:55.487 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:23:55.509 +03:00 [ERR] Unhandled exception
System.InvalidOperationException: The LINQ expression 'DbSet<Rental>()
    .Join(
        inner: DbSet<Car>(), 
        outerKeySelector: r => (object)r.CarId, 
        innerKeySelector: c => (object)c.Id, 
        resultSelector: (r, c) => new TransparentIdentifier<Rental, Car>(
            Outer = r, 
            Inner = c
        ))
    .LeftJoin(
        inner: DbSet<IdentityUser>(), 
        outerKeySelector: ti => ti.Outer.UserId.ToString(), 
        innerKeySelector: i => i.Id, 
        resultSelector: (ti, i) => new TransparentIdentifier<TransparentIdentifier<Rental, Car>, IdentityUser>(
            Outer = ti, 
            Inner = i
        ))' could not be translated. Additional information: Translation of method 'object.ToString' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MyCarSharingApp.Infrastructure.Repositories.RentalRepository.GetAllWithDetailsAsync(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Infrastructure\Repositories\RentalRepository.cs:line 104
   at MyCarSharingApp.Application.Services.RentalService.GetRentalsWithDetailsAsync(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 193
   at MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\RentalController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:23:55.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true&page=1&pageSize=50 - 500 null application/problem+json 151.9604ms
2025-08-12 09:24:01.708 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=false&page=1&pageSize=50 - null null
2025-08-12 09:24:01.715 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:24:01.718 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:24:01.723 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:24:01.725 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:24:01.726 +03:00 [INF] Route matched with {action = "GetWithDetails", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWithDetails(System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:24:01.829 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api) in 100.3991ms
2025-08-12 09:24:01.832 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:24:01.875 +03:00 [ERR] Unhandled exception
System.InvalidOperationException: The LINQ expression 'DbSet<Rental>()
    .Join(
        inner: DbSet<Car>(), 
        outerKeySelector: r => (object)r.CarId, 
        innerKeySelector: c => (object)c.Id, 
        resultSelector: (r, c) => new TransparentIdentifier<Rental, Car>(
            Outer = r, 
            Inner = c
        ))
    .LeftJoin(
        inner: DbSet<IdentityUser>(), 
        outerKeySelector: ti => ti.Outer.UserId.ToString(), 
        innerKeySelector: i => i.Id, 
        resultSelector: (ti, i) => new TransparentIdentifier<TransparentIdentifier<Rental, Car>, IdentityUser>(
            Outer = ti, 
            Inner = i
        ))' could not be translated. Additional information: Translation of method 'object.ToString' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at MyCarSharingApp.Infrastructure.Repositories.RentalRepository.GetAllWithDetailsAsync(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Infrastructure\Repositories\RentalRepository.cs:line 104
   at MyCarSharingApp.Application.Services.RentalService.GetRentalsWithDetailsAsync(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Application\Services\RentalService.cs:line 193
   at MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails(String userId, Nullable`1 isActive, Int32 page, Int32 pageSize) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Controllers\RentalController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Program.cs:line 217
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at MyCarSharingApp.Api.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext ctx) in C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api\Middleware\ErrorHandlerMiddleware.cs:line 26
2025-08-12 09:24:01.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=false&page=1&pageSize=50 - 500 null application/problem+json 180.5895ms
2025-08-12 09:24:17.417 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/1 - null null
2025-08-12 09:24:17.422 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:24:17.424 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:24:17.426 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754993295, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:24:17.427 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2025-08-12 09:24:17.450 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-12 09:24:17.451 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/1 - 403 0 null 34.7383ms
2025-08-12 09:40:20.843 +03:00 [INF] User profile is available. Using 'C:\Users\Larysa\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-12 09:40:21.646 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 09:40:21.700 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-08-12 09:40:21.710 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 09:40:21.952 +03:00 [INF] Now listening on: https://localhost:5001
2025-08-12 09:40:21.953 +03:00 [INF] Now listening on: http://localhost:5000
2025-08-12 09:40:22.104 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-12 09:40:22.113 +03:00 [INF] Hosting environment: Development
2025-08-12 09:40:22.114 +03:00 [INF] Content root path: C:\Users\Larysa\Desktop\Разное\Работа собесы\HYS обучение\Проекты\MyCarSharingApp_Complete2\MyCarSharingApp.Api
2025-08-12 09:40:22.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-08-12 09:40:22.563 +03:00 [INF] ----- Authenticated? false
2025-08-12 09:40:22.570 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 09:40:22.573 +03:00 [INF] Identity #0 Claims: 
2025-08-12 09:40:22.579 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2025-08-12 09:40:22.590 +03:00 [INF] Executing RedirectResult, redirecting to /swagger.
2025-08-12 09:40:22.591 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2025-08-12 09:40:22.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 200.077ms
2025-08-12 09:40:22.608 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 09:40:22.669 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 60.3782ms
2025-08-12 09:40:22.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 09:40:22.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 09:40:22.709 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 09:40:22.745 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 38.9115ms
2025-08-12 09:40:22.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 39.9555ms
2025-08-12 09:40:22.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.4629ms
2025-08-12 09:40:22.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 09:40:22.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.7502ms
2025-08-12 09:40:55.885 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 09:40:55.900 +03:00 [INF] ----- Authenticated? false
2025-08-12 09:40:55.902 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 09:40:55.905 +03:00 [INF] Identity #0 Claims: 
2025-08-12 09:40:55.907 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 09:40:55.942 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 09:40:56.077 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 09:40:56.208 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 09:40:56.212 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 09:40:56.218 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 09:40:56.221 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 09:40:56.268 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 09:40:56.312 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 361.5544ms
2025-08-12 09:40:56.314 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 09:40:56.328 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 467.566ms
2025-08-12 09:41:18.643 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 72
2025-08-12 09:41:18.660 +03:00 [INF] ----- Authenticated? false
2025-08-12 09:41:18.661 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 09:41:18.663 +03:00 [INF] Identity #0 Claims: 
2025-08-12 09:41:18.672 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-08-12 09:41:18.681 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 09:41:18.684 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 401 0 null 43.8421ms
2025-08-12 09:42:08.288 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 72
2025-08-12 09:42:08.361 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:42:08.364 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:42:08.367 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:42:08.371 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:42:08.378 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:42:08.568 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 09:42:08.594 +03:00 [INF] Added car Id=8
2025-08-12 09:42:08.596 +03:00 [INF] Created new car
2025-08-12 09:42:08.600 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:42:08.618 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 236.5117ms
2025-08-12 09:42:08.620 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:42:08.621 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 332.8715ms
2025-08-12 09:42:19.870 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 72
2025-08-12 09:42:19.878 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:42:19.880 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:42:19.883 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:42:19.886 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:42:19.888 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:42:19.917 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 09:42:19.921 +03:00 [INF] Added car Id=9
2025-08-12 09:42:19.923 +03:00 [INF] Created new car
2025-08-12 09:42:19.924 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:42:19.928 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 37.0639ms
2025-08-12 09:42:19.933 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:42:19.935 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 65.5056ms
2025-08-12 09:42:26.385 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Car - application/json 72
2025-08-12 09:42:26.392 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:42:26.393 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:42:26.396 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:42:26.398 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:42:26.400 +03:00 [INF] Route matched with {action = "Add", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] Add(MyCarSharingApp.Application.DTOs.CarRequestDto) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:42:26.430 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Cars" ("Brand", "Inventory", "IsAvailable", "Model", "Type")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-08-12 09:42:26.435 +03:00 [INF] Added car Id=10
2025-08-12 09:42:26.436 +03:00 [INF] Created new car
2025-08-12 09:42:26.437 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'MyCarSharingApp.Application.DTOs.CarResponseDto'.
2025-08-12 09:42:26.439 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api) in 36.5183ms
2025-08-12 09:42:26.440 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.Add (MyCarSharingApp.Api)'
2025-08-12 09:42:26.442 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Car - 201 null application/json; charset=utf-8 57.1877ms
2025-08-12 09:42:34.038 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - null null
2025-08-12 09:42:34.043 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:42:34.044 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:42:34.048 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:42:34.050 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 09:42:34.056 +03:00 [INF] Route matched with {action = "List", controller = "Car"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MyCarSharingApp.Application.DTOs.CarResponseDto]] List(Int32, Int32) on controller MyCarSharingApp.Api.Controllers.CarController (MyCarSharingApp.Api).
2025-08-12 09:42:34.085 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 09:42:34.088 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-08-12 09:42:34.099 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
LIMIT @__p_1 OFFSET @__p_0
2025-08-12 09:42:34.105 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[MyCarSharingApp.Domain.Entities.Car, MyCarSharingApp.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[MyCarSharingApp.Application.DTOs.CarResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:42:34.119 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api) in 60.1896ms
2025-08-12 09:42:34.122 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.CarController.List (MyCarSharingApp.Api)'
2025-08-12 09:42:34.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Car?page=1&size=10 - 200 null application/json; charset=utf-8 85.2994ms
2025-08-12 09:43:13.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true - null null
2025-08-12 09:43:13.456 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:43:13.457 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:43:13.458 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:43:13.460 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api)'
2025-08-12 09:43:13.468 +03:00 [INF] Route matched with {action = "GetRentalsByUserId", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalsByUserId(System.String, System.Nullable`1[System.Boolean]) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:43:13.484 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
2025-08-12 09:43:13.510 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MyCarSharingApp.Application.DTOs.RentalResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:43:13.524 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api) in 54.8145ms
2025-08-12 09:43:13.527 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api)'
2025-08-12 09:43:13.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true - 200 null application/json; charset=utf-8 90.2392ms
2025-08-12 09:43:31.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/details?userId=1&isActive=true&page=1&pageSize=50 - null null
2025-08-12 09:43:31.580 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:43:31.583 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:43:31.586 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:43:31.589 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:43:31.596 +03:00 [INF] Route matched with {action = "GetWithDetails", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWithDetails(System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:43:31.650 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id" AS "RentalId", r."UserId", r."CarId", r."RentalDate", r."ReturnDate", r."ActualReturnDate", c."Brand" AS "CarBrand", c."Model" AS "CarModel", a."UserName", a."Email" AS "UserEmail"
FROM "Rentals" AS r
INNER JOIN "Cars" AS c ON r."CarId" = c."Id"
LEFT JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NULL
ORDER BY r."RentalDate" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-08-12 09:43:31.656 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MyCarSharingApp.Application.DTOs.RentalWithDetailsDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:43:31.659 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api) in 59.9098ms
2025-08-12 09:43:31.661 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:43:31.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/details?userId=1&isActive=true&page=1&pageSize=50 - 200 null application/json; charset=utf-8 89.7299ms
2025-08-12 09:43:38.414 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/details?userId=1&isActive=false&page=1&pageSize=50 - null null
2025-08-12 09:43:38.432 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:43:38.433 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:43:38.435 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:43:38.437 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:43:38.438 +03:00 [INF] Route matched with {action = "GetWithDetails", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWithDetails(System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:43:38.475 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id" AS "RentalId", r."UserId", r."CarId", r."RentalDate", r."ReturnDate", r."ActualReturnDate", c."Brand" AS "CarBrand", c."Model" AS "CarModel", a."UserName", a."Email" AS "UserEmail"
FROM "Rentals" AS r
INNER JOIN "Cars" AS c ON r."CarId" = c."Id"
LEFT JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NOT NULL
ORDER BY r."RentalDate" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-08-12 09:43:38.478 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MyCarSharingApp.Application.DTOs.RentalWithDetailsDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:43:38.480 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api) in 40.3751ms
2025-08-12 09:43:38.482 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:43:38.483 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/details?userId=1&isActive=false&page=1&pageSize=50 - 200 null application/json; charset=utf-8 69.2759ms
2025-08-12 09:44:05.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=false&page=1&pageSize=50 - null null
2025-08-12 09:44:05.452 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:44:05.454 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:44:05.456 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:44:05.458 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:44:05.460 +03:00 [INF] Route matched with {action = "GetWithDetails", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWithDetails(System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:44:05.468 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id" AS "RentalId", r."UserId", r."CarId", r."RentalDate", r."ReturnDate", r."ActualReturnDate", c."Brand" AS "CarBrand", c."Model" AS "CarModel", a."UserName", a."Email" AS "UserEmail"
FROM "Rentals" AS r
INNER JOIN "Cars" AS c ON r."CarId" = c."Id"
LEFT JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NOT NULL
ORDER BY r."RentalDate" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-08-12 09:44:05.482 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MyCarSharingApp.Application.DTOs.RentalWithDetailsDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:44:05.484 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api) in 20.9286ms
2025-08-12 09:44:05.486 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:44:05.488 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=false&page=1&pageSize=50 - 200 null application/json; charset=utf-8 52.5518ms
2025-08-12 09:44:09.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=false&page=1&pageSize=50 - null null
2025-08-12 09:44:09.734 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:44:09.735 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:44:09.736 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:44:09.737 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:44:09.737 +03:00 [INF] Route matched with {action = "GetWithDetails", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWithDetails(System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:44:09.744 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id" AS "RentalId", r."UserId", r."CarId", r."RentalDate", r."ReturnDate", r."ActualReturnDate", c."Brand" AS "CarBrand", c."Model" AS "CarModel", a."UserName", a."Email" AS "UserEmail"
FROM "Rentals" AS r
INNER JOIN "Cars" AS c ON r."CarId" = c."Id"
LEFT JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NOT NULL
ORDER BY r."RentalDate" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-08-12 09:44:09.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MyCarSharingApp.Application.DTOs.RentalWithDetailsDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:44:09.747 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api) in 9.2292ms
2025-08-12 09:44:09.748 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:44:09.751 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=false&page=1&pageSize=50 - 200 null application/json; charset=utf-8 21.1758ms
2025-08-12 09:44:12.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true&page=1&pageSize=50 - null null
2025-08-12 09:44:12.980 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:44:12.981 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:44:12.983 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:44:12.985 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:44:12.986 +03:00 [INF] Route matched with {action = "GetWithDetails", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWithDetails(System.String, System.Nullable`1[System.Boolean], Int32, Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:44:12.994 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?', @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id" AS "RentalId", r."UserId", r."CarId", r."RentalDate", r."ReturnDate", r."ActualReturnDate", c."Brand" AS "CarBrand", c."Model" AS "CarModel", a."UserName", a."Email" AS "UserEmail"
FROM "Rentals" AS r
INNER JOIN "Cars" AS c ON r."CarId" = c."Id"
LEFT JOIN "AspNetUsers" AS a ON r."UserId" = a."Id"
WHERE r."UserId" = @__userId_0 AND r."ActualReturnDate" IS NULL
ORDER BY r."RentalDate" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-08-12 09:44:12.999 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MyCarSharingApp.Application.DTOs.RentalWithDetailsDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:44:13.002 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api) in 14.295ms
2025-08-12 09:44:13.005 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetWithDetails (MyCarSharingApp.Api)'
2025-08-12 09:44:13.006 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/details?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true&page=1&pageSize=50 - 200 null application/json; charset=utf-8 36.7956ms
2025-08-12 09:44:39.091 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/1 - null null
2025-08-12 09:44:39.108 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:44:39.109 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:44:39.112 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:44:39.114 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2025-08-12 09:44:39.118 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-12 09:44:39.120 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/1 - 403 0 null 28.9174ms
2025-08-12 09:44:56.681 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/1 - null null
2025-08-12 09:44:56.688 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:44:56.690 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:44:56.695 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995256, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:44:56.697 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2025-08-12 09:44:56.699 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-12 09:44:56.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/1 - 403 0 null 20.9447ms
2025-08-12 09:48:15.919 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-08-12 09:48:15.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 14.4189ms
2025-08-12 09:48:15.963 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-08-12 09:48:15.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2025-08-12 09:48:15.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 7.3808ms
2025-08-12 09:48:15.978 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 16523 application/javascript; charset=utf-8 8.512ms
2025-08-12 09:48:16.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_vs/browserLink - null null
2025-08-12 09:48:16.037 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.7125ms
2025-08-12 09:48:16.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-08-12 09:48:16.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.9314ms
2025-08-12 09:49:14.591 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/1 - null null
2025-08-12 09:49:14.629 +03:00 [INF] ----- Authenticated? false
2025-08-12 09:49:14.631 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 09:49:14.634 +03:00 [INF] Identity #0 Claims: 
2025-08-12 09:49:14.636 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User|Admin)
2025-08-12 09:49:14.637 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-12 09:49:14.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/1 - 401 0 null 48.5961ms
2025-08-12 09:50:16.897 +03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Auth/login - application/json 56
2025-08-12 09:50:16.915 +03:00 [INF] ----- Authenticated? false
2025-08-12 09:50:16.917 +03:00 [INF] Identity #0 AuthType=null IsAuth=false NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=http://schemas.microsoft.com/ws/2008/06/identity/claims/role
2025-08-12 09:50:16.920 +03:00 [INF] Identity #0 Claims: 
2025-08-12 09:50:16.922 +03:00 [INF] Executing endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 09:50:16.929 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MyCarSharingApp.Application.DTOs.LoginRequest) on controller AuthController (MyCarSharingApp.Api).
2025-08-12 09:50:17.118 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-12 09:50:17.222 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 09:50:17.228 +03:00 [INF] User admin@ex.com roles: Admin
2025-08-12 09:50:17.229 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-08-12 09:50:17.231 +03:00 [INF] Roles for admin@ex.com: Admin
2025-08-12 09:50:17.237 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-12 09:50:17.238 +03:00 [INF] Executed action AuthController.Login (MyCarSharingApp.Api) in 305.4386ms
2025-08-12 09:50:17.239 +03:00 [INF] Executed endpoint 'AuthController.Login (MyCarSharingApp.Api)'
2025-08-12 09:50:17.240 +03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Auth/login - 200 null application/json; charset=utf-8 347.033ms
2025-08-12 09:50:42.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental/1 - null null
2025-08-12 09:50:42.615 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:50:42.616 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:50:42.619 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995817, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:50:42.621 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetRentalById (MyCarSharingApp.Api)'
2025-08-12 09:50:42.627 +03:00 [INF] Route matched with {action = "GetRentalById", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalById(Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:50:42.674 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2025-08-12 09:50:42.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'MyCarSharingApp.Application.DTOs.RentalResponseDto'.
2025-08-12 09:50:42.701 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetRentalById (MyCarSharingApp.Api) in 69.9278ms
2025-08-12 09:50:42.703 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetRentalById (MyCarSharingApp.Api)'
2025-08-12 09:50:42.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental/1 - 200 null application/json; charset=utf-8 104.0052ms
2025-08-12 09:50:58.096 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:5001/api/Rental/1/return - null 0
2025-08-12 09:50:58.104 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:50:58.105 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:50:58.108 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995817, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:50:58.110 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.SetActualReturnDate (MyCarSharingApp.Api)'
2025-08-12 09:50:58.117 +03:00 [INF] Route matched with {action = "SetActualReturnDate", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SetActualReturnDate(Int32) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:50:58.140 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
WHERE r."Id" = @__p_0
LIMIT 1
2025-08-12 09:50:58.173 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Rentals" SET "ActualReturnDate" = @p0, "CarId" = @p1, "RentalDate" = @p2, "ReturnDate" = @p3, "UserId" = @p4
WHERE "Id" = @p5;
2025-08-12 09:50:58.191 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Brand", c."Inventory", c."IsAvailable", c."Model", c."Type"
FROM "Cars" AS c
WHERE c."Id" = @__p_0
LIMIT 1
2025-08-12 09:50:58.203 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Cars" SET "Brand" = @p0, "Inventory" = @p1, "IsAvailable" = @p2, "Model" = @p3, "Type" = @p4
WHERE "Id" = @p5;
2025-08-12 09:50:58.222 +03:00 [INF] Rental closed: RentalId=1
2025-08-12 09:50:58.223 +03:00 [INF] Executing OkObjectResult, writing value of type 'MyCarSharingApp.Application.DTOs.RentalResponseDto'.
2025-08-12 09:50:58.226 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.SetActualReturnDate (MyCarSharingApp.Api) in 104.5895ms
2025-08-12 09:50:58.227 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.SetActualReturnDate (MyCarSharingApp.Api)'
2025-08-12 09:50:58.231 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:5001/api/Rental/1/return - 200 null application/json; charset=utf-8 134.8562ms
2025-08-12 09:51:32.283 +03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Rental?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true - null null
2025-08-12 09:51:32.299 +03:00 [INF] ----- Authenticated? true
2025-08-12 09:51:32.300 +03:00 [INF] Identity #0 AuthType=AuthenticationTypes.Federation IsAuth=true NameClaimType=http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name RoleClaimType=role
2025-08-12 09:51:32.302 +03:00 [INF] Identity #0 Claims: sub=>2a285964-6dc8-464d-a32d-2933f3b87170, unique_name=>admin, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier=>2a285964-6dc8-464d-a32d-2933f3b87170, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress=>admin@ex.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role=>Admin, role=>Admin, exp=>1754995817, iss=>MyCarSharingApp, aud=>MyCarSharingAppUsers
2025-08-12 09:51:32.304 +03:00 [INF] Executing endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api)'
2025-08-12 09:51:32.309 +03:00 [INF] Route matched with {action = "GetRentalsByUserId", controller = "Rental"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRentalsByUserId(System.String, System.Nullable`1[System.Boolean]) on controller MyCarSharingApp.Api.Controllers.RentalController (MyCarSharingApp.Api).
2025-08-12 09:51:32.316 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."ActualReturnDate", r."CarId", r."RentalDate", r."ReturnDate", r."UserId"
FROM "Rentals" AS r
2025-08-12 09:51:32.329 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MyCarSharingApp.Application.DTOs.RentalResponseDto, MyCarSharingApp.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-12 09:51:32.332 +03:00 [INF] Executed action MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api) in 19.493ms
2025-08-12 09:51:32.334 +03:00 [INF] Executed endpoint 'MyCarSharingApp.Api.Controllers.RentalController.GetRentalsByUserId (MyCarSharingApp.Api)'
2025-08-12 09:51:32.336 +03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Rental?userId=2a285964-6dc8-464d-a32d-2933f3b87170&isActive=true - 200 null application/json; charset=utf-8 53.3056ms
